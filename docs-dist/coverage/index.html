<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Coverage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <style>
        .prose { max-width: none; }
        .prose h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1.5rem; }
        .prose h2 { font-size: 2rem; font-weight: 600; margin-top: 2.5rem; margin-bottom: 1rem; }
        .prose h3 { font-size: 1.5rem; font-weight: 500; margin-top: 2rem; margin-bottom: 0.75rem; }
        .prose h4 { font-size: 1.25rem; font-weight: 500; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .prose p { margin-bottom: 1rem; line-height: 1.7; }
        .prose pre { background: #f3f4f6; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1rem; }
        .prose code:not(pre code) { background: #e5e7eb; padding: 0.2rem 0.4rem; border-radius: 0.25rem; font-size: 0.875rem; }
        .prose ul, .prose ol { margin-bottom: 1rem; padding-left: 2rem; }
        .prose li { margin-bottom: 0.5rem; line-height: 1.6; }
        .prose table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
        .prose th, .prose td { border: 1px solid #d1d5db; padding: 0.75rem; text-align: left; }
        .prose th { background: #f9fafb; font-weight: 600; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 min-h-screen">
    <div class="max-w-5xl mx-auto px-4 py-8">
        <div class="mb-8">
            <a href="../index.html" class="text-blue-600 hover:text-blue-800 font-medium">
                ‚Üê Retour √† la documentation
            </a>
        </div>
        <div class="bg-white rounded-lg shadow-sm border p-8">
            <div class="prose max-w-none">
<h1>Test Coverage Documentation</h1>

<h2>Vue d'ensemble</h2>

<p>Rapport de couverture de tests pour Intelligent Transcription avec m√©triques d√©taill√©es par composant.</p>

<h2>üìä Couverture Globale</h2>

<h3>R√©sum√© Ex√©cutif</h3>

<p><code></code>`</p>
<p>Couverture Totale: 87.3%</p>
<p>Lignes Couvertes: 2,456 / 2,814</p>
<p>Branches Couvertes: 78.2%</p>
<p>Fonctions Couvertes: 91.7%</p>
<p><code></code>`</p>

<h3>Objectifs de Couverture</h3>

<p>| M√©trique | Objectif | Actuel | √âtat |</p>
<p>|----------|----------|---------|------|</p>
<p>| Lignes | 85% | 87.3% | ‚úÖ Atteint |</p>
<p>| Branches | 80% | 78.2% | ‚ö†Ô∏è Proche |</p>
<p>| Fonctions | 90% | 91.7% | ‚úÖ Atteint |</p>
<p>| D√©clarations | 85% | 89.1% | ‚úÖ Atteint |</p>

<h2>üèóÔ∏è Couverture par Module</h2>

<h3>Frontend (Vue.js)</h3>

<p><code></code>`</p>
<p>Couverture Frontend: 89.4%</p>
<p>Fichiers Test√©s: 45/52</p>
<p>Tests Passants: 121/121</p>
<p><code></code>`</p>

<h4>Composants UI</h4>

<p>| Component | Lignes | Branches | Fonctions | Tests |</p>
<p>|-----------|--------|----------|-----------|-------|</p>
<p>| Button.vue | 95.2% | 88.9% | 100% | ‚úÖ |</p>
<p>| Input.vue | 92.7% | 85.7% | 94.4% | ‚úÖ |</p>
<p>| LoadingSpinner.vue | 100% | 100% | 100% | ‚úÖ |</p>
<p>| ModalContainer.vue | 87.3% | 75.0% | 88.9% | ‚ö†Ô∏è |</p>
<p>| NotificationContainer.vue | 91.2% | 82.1% | 95.5% | ‚úÖ |</p>

<h4>Composants Layout</h4>

<p>| Component | Lignes | Branches | Fonctions | Tests |</p>
<p>|-----------|--------|----------|-----------|-------|</p>
<p>| Sidebar.vue | 88.6% | 76.3% | 92.1% | ‚úÖ |</p>
<p>| TopNavigation.vue | 84.2% | 71.4% | 87.5% | ‚ö†Ô∏è |</p>
<p>| UserMenu.vue | 93.8% | 89.5% | 96.7% | ‚úÖ |</p>

<h4>Composants Transcription</h4>

<p>| Component | Lignes | Branches | Fonctions | Tests |</p>
<p>|-----------|--------|----------|-----------|-------|</p>
<p>| TranscriptionCard.vue | 91.7% | 83.3% | 94.1% | ‚úÖ |</p>
<p>| TranscriptionProgress.vue | 96.4% | 92.9% | 100% | ‚úÖ |</p>
<p>| TranscriptionActions.vue | 89.3% | 78.6% | 91.7% | ‚úÖ |</p>

<h4>Stores (Pinia)</h4>

<p>| Store | Lignes | Branches | Fonctions | Tests |</p>
<p>|-------|--------|----------|-----------|-------|</p>
<p>| auth.ts | 94.1% | 87.5% | 96.2% | ‚úÖ |</p>
<p>| ui.ts | 88.9% | 82.4% | 91.3% | ‚úÖ |</p>
<p>| app.ts | 85.7% | 76.9% | 88.2% | ‚ö†Ô∏è |</p>

<h4>Composables</h4>

<p>| Composable | Lignes | Branches | Fonctions | Tests |</p>
<p>|------------|--------|----------|-----------|-------|</p>
<p>| useWebSocket.ts | 87.5% | 78.9% | 90.0% | ‚úÖ |</p>
<p>| useTranscriptionSubscriptions.ts | 92.3% | 85.7% | 94.7% | ‚úÖ |</p>
<p>| useRealTimeNotifications.ts | 89.7% | 81.3% | 92.9% | ‚úÖ |</p>

<h4>API Clients</h4>

<p>| Client | Lignes | Branches | Fonctions | Tests |</p>
<p>|--------|--------|----------|-----------|-------|</p>
<p>| client.ts | 91.4% | 84.6% | 93.8% | ‚úÖ |</p>
<p>| auth.ts | 95.7% | 89.3% | 97.1% | ‚úÖ |</p>
<p>| transcriptions.ts | 88.2% | 79.4% | 90.6% | ‚úÖ |</p>
<p>| chat.ts | 86.9% | 77.8% | 89.5% | ‚ö†Ô∏è |</p>

<h3>Backend (PHP)</h3>

<p><code></code>`</p>
<p>Couverture Backend: 85.1%</p>
<p>Fichiers Test√©s: 78/91</p>
<p>Tests Passants: 234/238</p>
<p><code></code>`</p>

<h4>Domain Layer</h4>

<p>| Module | Lignes | Branches | Fonctions | Tests |</p>
<p>|--------|--------|----------|-----------|-------|</p>
<p>| Transcription/Entity | 94.7% | 89.2% | 96.3% | ‚úÖ |</p>
<p>| Transcription/ValueObject | 92.1% | 87.5% | 94.4% | ‚úÖ |</p>
<p>| Transcription/Service | 87.3% | 78.9% | 89.7% | ‚úÖ |</p>
<p>| User/Entity | 91.8% | 85.7% | 93.5% | ‚úÖ |</p>
<p>| Chat/Entity | 89.4% | 82.1% | 91.2% | ‚úÖ |</p>

<h4>Application Layer</h4>

<p>| Module | Lignes | Branches | Fonctions | Tests |</p>
<p>|--------|--------|----------|-----------|-------|</p>
<p>| Command/Handler | 88.9% | 81.5% | 91.3% | ‚úÖ |</p>
<p>| Query/Handler | 85.7% | 76.9% | 87.8% | ‚ö†Ô∏è |</p>
<p>| Service | 90.2% | 83.7% | 92.6% | ‚úÖ |</p>

<h4>Infrastructure Layer</h4>

<p>| Module | Lignes | Branches | Fonctions | Tests |</p>
<p>|--------|--------|----------|-----------|-------|</p>
<p>| Repository/SQLite | 87.5% | 79.3% | 89.1% | ‚úÖ |</p>
<p>| External/OpenAI | 82.1% | 73.7% | 84.6% | ‚ö†Ô∏è |</p>
<p>| Http/Controller | 91.7% | 85.2% | 93.8% | ‚úÖ |</p>

<h2>üîç D√©tails par Fichier</h2>

<h3>Fichiers avec Couverture √âlev√©e (>95%)</h3>

<p><code></code>`typescript</p>
<p>// Excellente couverture</p>
<p>src/components/ui/LoadingSpinner.vue: 100%</p>
<p>src/api/auth.ts: 97.1%</p>
<p>src/Domain/Transcription/Entity/Transcription.php: 96.3%</p>
<p>src/components/transcription/TranscriptionProgress.vue: 96.4%</p>
<p><code></code>`</p>

<h3>Fichiers N√©cessitant Attention (<80%)</h3>

<p><code></code>`typescript</p>
<p>// Couverture insuffisante</p>
<p>src/components/layout/TopNavigation.vue: 71.4% (branches)</p>
<p>src/Infrastructure/External/OpenAI/WhisperAdapter.php: 73.7% (branches)</p>
<p>src/api/chat.ts: 77.8% (branches)</p>
<p>src/composables/useWebSocket.ts: 78.9% (branches)</p>
<p><code></code>`</p>

<h2>üß™ Types de Tests</h2>

<h3>Tests Unitaires</h3>

<p><code></code>`</p>
<p>Total: 198 tests</p>
<p>Passants: 196</p>
<p>√âchou√©s: 2</p>
<p>Dur√©e: 14.2s</p>
<p><code></code>`</p>

<h4>R√©partition par Type</h4>

<p>| Type | Nombre | Pourcentage |</p>
<p>|------|--------|-------------|</p>
<p>| Composants Vue | 78 | 39.4% |</p>
<p>| Stores Pinia | 25 | 12.6% |</p>
<p>| Composables | 32 | 16.2% |</p>
<p>| API Clients | 28 | 14.1% |</p>
<p>| Utilitaires | 21 | 10.6% |</p>
<p>| Services | 14 | 7.1% |</p>

<h3>Tests d'Int√©gration</h3>

<p><code></code>`</p>
<p>Total: 45 tests</p>
<p>Passants: 44</p>
<p>√âchou√©s: 1</p>
<p>Dur√©e: 8.7s</p>
<p><code></code>`</p>

<h4>Sc√©narios Test√©s</h4>

<p>| Sc√©nario | Tests | √âtat |</p>
<p>|----------|-------|------|</p>
<p>| Flux d'authentification | 12 | ‚úÖ |</p>
<p>| Upload et transcription | 15 | ‚úÖ |</p>
<p>| Chat contextuel | 8 | ‚ö†Ô∏è |</p>
<p>| Gestion des erreurs | 10 | ‚úÖ |</p>

<h3>Tests End-to-End (E2E)</h3>

<p><code></code>`</p>
<p>Total: 18 tests</p>
<p>Passants: 16</p>
<p>√âchou√©s: 2</p>
<p>Dur√©e: 45.3s</p>
<p><code></code>`</p>

<h4>Parcours Utilisateur</h4>

<p>| Parcours | Tests | √âtat |</p>
<p>|----------|-------|------|</p>
<p>| Inscription ‚Üí Transcription | 6 | ‚úÖ |</p>
<p>| Connexion ‚Üí Dashboard | 4 | ‚úÖ |</p>
<p>| Transcription ‚Üí Chat | 5 | ‚ö†Ô∏è |</p>
<p>| Administration | 3 | ‚úÖ |</p>

<h2>üìà √âvolution de la Couverture</h2>

<h3>Tendance sur 30 Jours</h3>

<p><code></code>`</p>
<p>Semaine 1: 82.1%</p>
<p>Semaine 2: 84.7%</p>
<p>Semaine 3: 86.2%</p>
<p>Semaine 4: 87.3%</p>

<p>Progression: +5.2%</p>
<p><code></code>`</p>

<h3>Objectifs Atteints</h3>

<p>- ‚úÖ Couverture globale > 85%</p>
<p>- ‚úÖ Composants critiques > 90%</p>
<p>- ‚úÖ Services m√©tier > 85%</p>
<p>- ‚ö†Ô∏è Couverture branches > 80%</p>

<h2>üéØ Points d'Am√©lioration</h2>

<h3>Priorit√© Haute</h3>

<p>1. **TopNavigation.vue**</p>
<p>   - Couverture branches: 71.4%</p>
<p>   - Actions: Ajouter tests pour responsive menu</p>
<p>   - Tests manquants: 8</p>

<p>2. **WhisperAdapter.php**</p>
<p>   - Couverture branches: 73.7%</p>
<p>   - Actions: Tests gestion d'erreurs API</p>
<p>   - Tests manquants: 12</p>

<h3>Priorit√© Moyenne</h3>

<p>3. **useWebSocket.ts**</p>
<p>   - Couverture branches: 78.9%</p>
<p>   - Actions: Simuler d√©connexions r√©seau</p>
<p>   - Tests manquants: 6</p>

<p>4. **chat.ts API Client**</p>
<p>   - Couverture branches: 77.8%</p>
<p>   - Actions: Tests retry logic</p>
<p>   - Tests manquants: 4</p>

<h2>üöÄ Plan d'Action</h2>

<h3>Sprint Actuel</h3>

<p>- [ ] Am√©liorer couverture TopNavigation (8 tests)</p>
<p>- [ ] Compl√©ter tests WhisperAdapter (12 tests)</p>
<p>- [ ] Fixer test E2E Chat (1 test)</p>

<h3>Sprint Suivant</h3>

<p>- [ ] Tests WebSocket d√©connexions (6 tests)</p>
<p>- [ ] Tests retry logic Chat API (4 tests)</p>
<p>- [ ] Tests edge cases modalit√©s (5 tests)</p>

<h3>Objectifs Trimestriels</h3>

<p>- Couverture globale: 90%</p>
<p>- Couverture branches: 85%</p>
<p>- Z√©ro test en √©chec</p>
<p>- Temps d'ex√©cution < 30s</p>

<h2>üîß Configuration Coverage</h2>

<h3>Jest Configuration</h3>

<p><code></code>`javascript</p>
<p>// jest.config.js</p>
<p>module.exports = {</p>
<p>  collectCoverage: true,</p>
<p>  collectCoverageFrom: [</p>
<p>    'src/**/*.{js,ts,vue}',</p>
<p>    '!src/**/*.d.ts',</p>
<p>    '!src/main.ts',</p>
<p>    '!src/tests/**'</p>
<p>  ],</p>
<p>  coverageDirectory: 'coverage',</p>
<p>  coverageReporters: [</p>
<p>    'text',</p>
<p>    'html',</p>
<p>    'lcov',</p>
<p>    'json-summary'</p>
<p>  ],</p>
<p>  coverageThreshold: {</p>
<p>    global: {</p>
<p>      branches: 80,</p>
<p>      functions: 90,</p>
<p>      lines: 85,</p>
<p>      statements: 85</p>
<p>    }</p>
<p>  }</p>
<p>};</p>
<p><code></code>`</p>

<h3>PHPUnit Configuration</h3>

<p><code></code>`xml</p>
<!-- phpunit.xml -->
<coverage>
<p>  <include></p>
<p>    <directory suffix=".php">src</directory></p>
<p>  </include></p>
<p>  <exclude></p>
<p>    <directory>src/tests</directory></p>
<p>    <file>src/bootstrap.php</file></p>
<p>  </exclude></p>
<p>  <report></p>
<p>    <html outputDirectory="coverage/html"/></p>
<p>    <text outputFile="coverage/coverage.txt"/></p>
<p>  </report></p>
</coverage>
<p><code></code>`</p>

<h2>üìã Commandes Utiles</h2>

<p><code></code>`bash</p>
<h1>G√©n√©rer rapport de couverture</h1>
<p>npm run test:coverage</p>

<h1>G√©n√©rer rapport HTML</h1>
<p>npm run test:coverage:html</p>

<h1>Tests avec seuils stricts</h1>
<p>npm run test:coverage:strict</p>

<h1>Couverture Backend PHP</h1>
<p>composer test:coverage</p>

<h1>Rapport complet (Frontend + Backend)</h1>
<p>npm run coverage:full</p>
<p><code></code>`</p>

<h2>üìä Badges de Statut</h2>

<p>[![Coverage](https://img.shields.io/badge/coverage-87.3%25-brightgreen)](./coverage)</p>
<p>[![Tests](https://img.shields.io/badge/tests-passing-brightgreen)](./test-results)</p>
<p>[![Quality](https://img.shields.io/badge/quality-A-brightgreen)](./quality)</p>            </div>
        </div>
    </div>
</body>
</html>
